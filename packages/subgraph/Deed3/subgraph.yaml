specVersion: 0.0.5
schema:
    file: ./schema.graphql
dataSources:
  - kind: ethereum
    name: DeedNFT
    network: goerli
    source:
      address: "0x4E0325c42449b7457A7124264Ab8a2Bc13964B5C"
      abi: DeedNFT
      startBlock: 9915285
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - Approval
        - ApprovalForAll
        - DeedNFTAssetTypeSet
        - DeedNFTAssetValidationSet
        - DeedNFTIpfsDetailsSet
        - DeedNFTMinted
        - DeedNFTPriceUpdated
        - RoleAdminChanged
        - RoleGranted
        - RoleRevoked
        - Transfer
      abis:
        - name: DeedNFT
          file: ./abis/DeedNFT.json
      eventHandlers:
        - event: Approval(indexed address,indexed address,indexed uint256)
          handler: handleApproval
        - event: ApprovalForAll(indexed address,indexed address,bool)
          handler: handleApprovalForAll
        - event: DeedNFTAssetTypeSet(uint256,uint8)
          handler: handleDeedNFTAssetTypeSet
        - event: DeedNFTAssetValidationSet(uint256,bool)
          handler: handleDeedNFTAssetValidationSet
        - event: DeedNFTIpfsDetailsSet(uint256,bytes)
          handler: handleDeedNFTIpfsDetailsSet
        - event: DeedNFTMinted(uint256,(bytes,uint8,uint256,string,bool))
          handler: handleDeedNFTMinted
        - event: DeedNFTPriceUpdated(uint256,uint256)
          handler: handleDeedNFTPriceUpdated
        - event: RoleAdminChanged(indexed bytes32,indexed bytes32,indexed bytes32)
          handler: handleRoleAdminChanged
        - event: RoleGranted(indexed bytes32,indexed address,indexed address)
          handler: handleRoleGranted
        - event: RoleRevoked(indexed bytes32,indexed address,indexed address)
          handler: handleRoleRevoked
        - event: Transfer(indexed address,indexed address,indexed uint256)
          handler: handleTransfer
      file: ./src/deed-nft.ts
  - kind: ethereum
    name: SubdivisionNFT
    network: goerli
    source:
      address: "0x434B8Ee84eaF2327d0e327125BAaE416Ed0c2fF3"
      abi: SubdivisionNFT
      startBlock: 9915285
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - IpfsDetailsSet
        - SubdivisionBurned
        - SubdivisionInfoSet
        - SubdivisionMinted
        - TransferBatch
        - TransferSingle
        - URI
      abis:
        - name: SubdivisionNFT
          file: ./abis/SubdivisionNFT.json
      eventHandlers:
        - event: IpfsDetailsSet(uint256,bytes)
          handler: handleIpfsDetailsSet
        - event: SubdivisionBurned(address,uint256,uint256,bytes)
          handler: handleSubdivisionBurned
        - event: SubdivisionInfoSet(uint256,(bytes,address,uint256))
          handler: handleSubdivisionInfoSet
        - event: SubdivisionMinted(address,uint256,uint256,bytes)
          handler: handleSubdivisionMinted
        - event: TransferBatch(indexed address,indexed address,indexed address,uint256[],uint256[])
          handler: handleTransferBatch
        - event: TransferSingle(indexed address,indexed address,indexed address,uint256,uint256)
          handler: handleTransferSingle
        - event: URI(string,indexed uint256)
          handler: handleURI
      file: ./src/subdivision-nft.ts
  - kind: ethereum
    name: LeaseNFT
    network: goerli
    source:
      address: "0x11A03C3E32e119E05fe9663a7aB445BF3e3Cb679"
      abi: LeaseNFT
      startBlock: 9915285
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - OwnershipTransferred
      abis:
        - name: LeaseNFT
          file: ./abis/LeaseNFT.json
      eventHandlers:
        - event: OwnershipTransferred(indexed address,indexed address)
          handler: handleOwnershipTransferred
      file: ./src/lease-nft.ts
  - kind: ethereum
    name: FundsManager
    network: goerli
    source:
      address: "0xC71F7B1cb487dC5518655C3874DC206E9F0D35E7"
      abi: FundsManager
      startBlock: 9915285
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - FundsStored
        - FundsWithdrawn
      abis:
        - name: FundsManager
          file: ./abis/FundsManager.json
      eventHandlers:
        - event: FundsStored(uint256,address,uint256,address,address,uint256)
          handler: handleFundsStored
        - event: FundsWithdrawn(uint256,address,uint256,address,address,uint256)
          handler: handleFundsWithdrawn
      file: ./src/funds-manager.ts
  - kind: ethereum
    name: LeaseAgreement
    network: goerli
    source:
      address: "0xcCaC3b5B0284Ba2ECa48Eb1943D0625C5Dac0b79"
      abi: LeaseAgreement
      startBlock: 9915285
    mapping:
      kind: ethereum/events
      apiVersion: 0.0.7
      language: wasm/assemblyscript
      entities:
        - LeaseAgentRemoved
        - LeaseAgentSet
        - LeaseCreated
        - LeaseDepositSubmited
        - LeaseDueDateChanged
        - LeaseExtended
        - LeaseFundsManagerSet
        - LeasePaymentMade
        - LeasePaymentTokenSet
        - LeaseRentDistributed
        - LeaseTerminated
      abis:
        - name: LeaseAgreement
          file: ./abis/LeaseAgreement.json
      eventHandlers:
        - event: LeaseAgentRemoved(uint256,uint256)
          handler: handleLeaseAgentRemoved
        - event: LeaseAgentSet(uint256,address,uint256,uint256)
          handler: handleLeaseAgentSet
        - event: LeaseCreated(uint256,(address,address,uint256,(uint256,bool),uint256,uint32,(uint256,uint256,uint256,uint256),uint256,uint256,address,uint8,uint256),uint256)
          handler: handleLeaseCreated
        - event: LeaseDepositSubmited(uint256,uint256,uint256)
          handler: handleLeaseDepositSubmited
        - event: LeaseDueDateChanged(uint256,uint256,uint256)
          handler: handleLeaseDueDateChanged
        - event: LeaseExtended(uint256,uint256,uint256,uint256,uint256)
          handler: handleLeaseExtended
        - event: LeaseFundsManagerSet(address,uint256)
          handler: handleLeaseFundsManagerSet
        - event: LeasePaymentMade(uint256,uint256,uint256,uint256)
          handler: handleLeasePaymentMade
        - event: LeasePaymentTokenSet(address,uint256)
          handler: handleLeasePaymentTokenSet
        - event: LeaseRentDistributed(uint256,uint256,uint256,uint256,uint256)
          handler: handleLeaseRentDistributed
        - event: LeaseTerminated(uint256,uint256)
          handler: handleLeaseTerminated
      file: ./src/lease-agreement.ts
